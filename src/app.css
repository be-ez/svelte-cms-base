@import 'tailwindcss';
@plugin '@tailwindcss/typography';

@layer base {
	:root {
		/* Light Theme - Default */
		--background-color: #ffffff;
		--text-color: #1a1a1a;
		--color-primary: #111827;
		--color-secondary: #6b7280;
		--color-tertiary: #9ca3af;
		--color-accent: #3b82f6;
		--color-border: #e5e7eb;
		--color-hover: #2563eb;
		--color-hoverSubtle: rgba(0, 0, 0, 0.05);

		/* Gray Scale */
		--color-gray-100: #f3f4f6;
		--color-gray-200: #e5e7eb;
		--color-gray-300: #d1d5db;
		--color-gray-500: #6b7280;
		--color-gray-600: #4b5563;
		--color-gray-700: #374151;
		--color-gray-800: #1f2937;

		/* Gallery specific (light mode = white) */
		--gallery-background: #ffffff;
	}

	.dark {
		/* Dark Theme */
		--background-color: #1f2937;
		--text-color: #ffffff;
		--color-primary: #ffffff;
		--color-secondary: #9ca3af;
		--color-tertiary: #d1d5db;
		--color-accent: #60a5fa;
		--color-border: #374151;
		--color-hover: #3b82f6;
		--color-hoverSubtle: rgba(255, 255, 255, 0.1);

		/* Gray Scale (inverted for dark mode) */
		--color-gray-100: #1f2937;
		--color-gray-200: #374151;
		--color-gray-300: #4b5563;
		--color-gray-500: #9ca3af;
		--color-gray-600: #d1d5db;
		--color-gray-700: #e5e7eb;
		--color-gray-800: #f3f4f6;

		/* Gallery specific (dark mode = neutral gray) */
		--gallery-background: #2a2a2a;
	}

	html {
		@apply h-full;
		background-color: var(--background-color);
		color: var(--text-color);
		transition:
			background-color 200ms ease-in-out,
			color 200ms ease-in-out;
	}

	body {
		@apply h-full;
		margin: 0;
		padding: 0;
		background-color: var(--background-color);
		color: var(--color-primary);
		transition:
			background-color 200ms ease-in-out,
			color 200ms ease-in-out;
	}

	/* Theme Variants */
	.theme-default {
		/* Uses default CSS variables */
	}

	.theme-gallery {
		/* Override for gallery pages */
		--background-color: var(--gallery-background);
	}
}

/* Navbar responsive styles */
.desktop-navbar {
	display: none;
}

@media (min-width: 769px) {
	.desktop-navbar {
		display: flex;
	}

	.mobile-navbar {
		display: none;
	}
}

@media (max-width: 768px) {
	.desktop-navbar {
		display: none;
	}

	.mobile-navbar {
		display: block;
	}
}

/* Fix prose code block backgrounds and padding */
.prose pre {
	background-color: #f8f9fa !important;
	padding: 1rem !important;
	margin: 1rem 0 !important;
}

.dark .prose pre {
	background-color: #374151 !important;
}

/* Remove any dark backgrounds from code containers */
.prose pre code {
	background-color: transparent !important;
	padding: 0 !important;
}

/* Recipe image sizing */
.prose .enhanced-img-container {
	display: block;
	max-width: 400px;
	margin: 1rem auto 2rem auto;
	border-radius: 8px;
	overflow: hidden;
}

.prose .enhanced-img {
	width: 100%;
	height: auto;
	display: block;
}

/* Desktop: float images right with text wrap */
@media (min-width: 768px) {
	.prose .enhanced-img-container {
		float: right;
		margin: 0 0 1.5rem 2rem;
		max-width: 300px;
		clear: right;
	}

	/* Ensure paragraphs can wrap around floated images */
	.prose p {
		text-align: justify;
	}
}

/* Font utilities */
.font-inter {
	font-family: var(--font-primary);
	font-weight: var(--font-weight-light);
}

.font-inter-heavy {
	font-family: var(--font-primary);
	font-weight: var(--font-weight-heavy);
}

.font-inter-medium {
	font-family: var(--font-primary);
	font-weight: var(--font-weight-medium);
}

@layer components {
	/* Accessibility improvements */
	.sr-only {
		position: absolute;
		width: 1px;
		height: 1px;
		padding: 0;
		margin: -1px;
		overflow: hidden;
		clip: rect(0, 0, 0, 0);
		white-space: nowrap;
		border: 0;
	}

	.sr-only:focus,
	.sr-only:focus-within {
		position: static;
		width: auto;
		height: auto;
		padding: inherit;
		margin: inherit;
		overflow: visible;
		clip: auto;
		white-space: normal;
	}

	/* Enhanced focus styles for better keyboard navigation */
	button:focus-visible,
	a:focus-visible,
	input:focus-visible,
	textarea:focus-visible,
	select:focus-visible,
	[tabindex]:focus-visible {
		outline: 2px solid #3b82f6;
		outline-offset: 2px;
	}

	/* High contrast focus for dark mode */
	.dark button:focus-visible,
	.dark a:focus-visible,
	.dark input:focus-visible,
	.dark textarea:focus-visible,
	.dark select:focus-visible,
	.dark [tabindex]:focus-visible {
		outline-color: #60a5fa;
	}

	/* Layout Components */
	.page-container {
		@apply max-w-7xl mx-auto px-6 md:px-8;
	}

	.section-spacing {
		@apply py-12 md:py-16;
	}

	.content-spacing {
		@apply py-6 md:py-8;
	}

	.grid-container {
		@apply gap-4 md:gap-6;
	}

	/* Navigation Components */
	.nav-link {
		color: var(--color-primary);
		transition: color 200ms ease-in-out;
	}

	.nav-link:hover {
		color: var(--color-accent);
	}

	.nav-border {
		border-color: var(--color-border);
	}

	/* Content Components */
	.post-row {
		cursor: pointer;
		transition: all 200ms ease-in-out;
	}

	.post-row:hover {
		background-color: var(--color-hoverSubtle);
	}

	.post-meta {
		color: var(--color-secondary);
		font-family: var(--font-primary);
		font-weight: var(--font-weight-medium);
	}

	/* Table Components */
	.table-header {
		background-color: var(--color-gray-100);
		color: var(--color-tertiary);
	}

	.table-body {
		background-color: var(--background-color);
		color: var(--color-primary);
	}

	.table-row {
		border-color: var(--color-border);
	}

	.table-row:hover {
		background-color: var(--color-gray-200);
	}
}
